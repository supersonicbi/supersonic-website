+++
weight = 4
+++

# 创建指标

在构建模型时，我们已经展示了如何在创建模型的时候通过**快速创建**的方式来创建指标。 接下来，我们继续展示下如何通过**手动自定义**的方式来创建指标。
创建出来后，通过进一步进行下钻维度等配置，就可以在指标市场查看这几个指标的基本数据情况。

在创建新的指标之前，我们首先看看**访问次数**这个指标的定义。如图，访问次数这个指标是在创建模型时通过快速创建的方式创建出来的，已经初始化了名称等基本信息。
![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/8459a4de-edc5-4dab-a8a5-0cf1581877d4)

上面表格中除了基本的名称信息以外，还包括:

**别名**: 别名是这个指标的其它名称，如访问次数这个指标又可以被称为PV。

**分类**: 分类是对这个指标的描述，如访问次数这个指标可被归类为核心指标，访问相关指标等。

**敏感度**：默认为普通。敏感度为核心的指标会有权限控制，具体会在权限篇进行详细介绍。

**下钻维度**：即这个指标可与哪些维度来下钻。配置了之后，这个指标在进行查询时，就只能根据这几个维度进行下钻。这个配置会作用到指标主页以及问答的推荐维度。

**数据格式化**: 即在查询出这个指标数据后，对指标数据格式进行可视化，如图，可以将它格式化为小数以及百分数。

根据以上介绍，我们来对访问次数这个指标进行信息补充，具体如下：

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/3e34df48-6ecd-4b99-94ea-64fc848436c8)

如图，除了补充**别名和标签**以外，我们还补充好了**下钻维度**信息，表示这个指标可根据部门和用户这两个维度来进行下钻查询。需要注意的是，可配置的下钻维度不仅仅来自指标当前模型，还可来自与该模型有关联关系的模型。

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/dfd5cb74-2b28-44bb-b289-8950bdda7f32)



接下来，我们来查看它的**表达式**信息。可以看到，我们一共提供了**三种**创建指标的模式：**按度量，按指标，按字段**。
### **1 按度量创建指标**
访问次数这个指标通过快速创建的方式创建出来，默认的模式为按度量。
选中**s2_pv_uv_statis_pv**这个度量并在下面的表达式框中直接填写s2_pv_uv_statis_pv，
表明这个指标是通过s2_pv_uv_statis_pv直接创建而来。

{{< hint info >}}
**注意**

s2_pv_uv_statis_pv这个度量名字是由模型英文名s2_pv_uv_statis和字段pv拼接而成，
且由于在创建模型的时候已经指定了聚合方式为SUM了，所以这里的表达式无需再填写聚合函数。
{{< /hint >}}



![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/fb126873-7b86-425e-bc30-383ce78144c0)

以上，我们就介绍完了访问次数这个指标包含的基本信息以及它的表达式定义。接下来，我们开始来通过按指标和按字段两种模式来创建新的指标: 访问用户数和人均访问次数。

### **2 按字段创建指标**
首先，我们来创建**访问用户数**。如图，我们补充好了访问用户数的基本信息，并给它添加了一个别名：UV。

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/377b1dbd-9112-4ec6-811f-9f7ab37186b1)

然后，我们来配置下访问用户数的下钻维度，可以看到，我们选中了部门这个维度作为它的下钻维度，并勾选了绑定。绑定的含义是我们在查询这个指标时，必须配合这个维度来进行查询，否则提示缺少下钻维度。

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/51b71af9-bddb-40d2-8ec0-265e98bee71a)

最后，我们来选择按字段的方式来进行表达式的定义，这些字段来自当前模型。可以看到我们选择了**user_id**这个字段来创建指标，并定义了字段表达式。由于字段上不包含聚合函数，因此需要在写表达式的时候指定聚合函数。

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/f4ac362e-408e-48ec-b1fd-3fbaa0b7a119)

点击完成之后，我们就完成了访问用户数这个指标的定义。

### **3 基于已有指标来创建指标**
最后，我们来创建**人均访问次数**这个指标，由于基本信息的补充都基本类似，就不再介绍啦。我们选择按指标的模式来定义表达式，通过分析，**人均访问次数这个指标可由访问次数和访问用户数这两个指标结合起来创建**。因此，如下图我们选中了访问次数和访问用户数这两个指标，并通过**pv/uv**的方式来表达人均访问次数。

![image](https://github.com/supersonicbi/supersonic-website/assets/168408457/106bfee2-8e67-4e93-b0ab-c9ed6392612e)

到这里，我们就完成了所有指标的创建了。
